%h2 There #{is_pluralize(@shifts.length, 'shift')}

= render 'shared/shift_error_messages'

%h3 All Shifts
= link_to 'Trigger outdater', trigger_outdater_admin_shifts_path, method: :put, class: 'btn btn-danger'

%table.table.table-striped.table-bordered.table-hover
  %tr
    %th id
    %th user_id
    %th full name
    %th day_work
    %th status
    %th
    %th
    %th
    %th
    - @shifts.each do |shift|
      %tr
        %td= shift.id
        %td= shift.user_id
        %td= shift.user.full_name
        %td= shift.day_work
        %td{:class => "#{shift.status}"}
          = shift.status
        %td= link_to 'Delete', admin_shift_path(shift.id), method: :delete, data: {confirm: 'Are you sure to delete?'}
        %td= link_to 'Approve', update_status_admin_shift_path(shift.id, status: 'approved'), method: :put, class: "btn btn-success", "data-no-turbolink" => true
        %td= link_to 'Reject', update_status_admin_shift_path(shift.id, status: 'rejected'), method: :put, class: "btn btn-danger", "data-no-turbolink" => true
        %td= link_to 'Put on hold', update_status_admin_shift_path(shift.id, status: 'pending'), method: :put, class: "btn btn-default", "data-no-turbolink" => true
